{"version":3,"sources":["logo.svg","components/PersonCard.js","utils/apiutil.js","pages/MapPage.js","pages/Login.js","pages/Register.js","utils/socket.js","components/Chat.js","pages/MessagingPage.js","MainApp.js","pages/HomePage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","PersonCard","props","state","visible","console","log","this","setState","classes","Card","className","clsx","root","cardVisible","CardHeader","avatar","Avatar","aria-label","title","person","realName","subheader","isFoodProvider","CardContent","Typography","variant","color","component","style","marginBottom","lineHeight","location","description","CardActions","disableSpacing","IconButton","React","Component","withStyles","theme","width","zIndex","position","right","transition","transitions","create","duration","shortest","top","transform","backgroundColor","boxShadow","borderRadius","padding","media","height","paddingTop","expand","marginLeft","expandOpen","blue","cookies","Cookies","sendReq","url","options","onAuth","onFail","fetch","then","res","a","json","catch","err","data","status","error","message","toString","JSON","stringify","APIUtil","isAuthenticated","get","authenticate","cb","method","headers","body","dataa","set","token","path","expires","n","Date","setTime","getTime","onehrdate","userData","parse","atob","split","registerUser","mode","logout","remove","getSelfInfo","getLocationsFromPosition","URLSearchParams","name","getAllLocations","getUserInformation","userId","MapPage","lat","lng","zoom","locations","currentPerson","currentLocation","code","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","Map","center","minZoom","onmouseup","event","latlng","TileLayer","attribution","map","Marker","key","icon","L","iconUrl","iconSize","iconAnchor","onclick","setCurrent","Login","history","useHistory","useState","usernameValue","setUsernameValue","passwordValue","setPasswordValue","snackbarOpen","setSnackbarOpen","errorMessage","setErrorMessage","loginButtonText","setLoginButtonText","handleClose","reason","Snackbar","open","autoHideDuration","onClose","Alert","severity","Paper","elevation","square","Box","display","flexDirection","alignItems","justifyContent","TextField","placeholder","onChange","target","value","type","Button","onClick","username","password","push","Register","realNameValue","setRealNameValue","emailValue","setEmailValue","isProviderBool","setIsProviderBool","FormControlLabel","control","Checkbox","checked","label","APIUtils","email","Socket","socket","io","connect","on","emit","onSendMessageError","onAuthError","onUnknownError","cause","details","callback","recipientId","Chat","userInput","chatHistory","handleKey","bind","onReceiveMessage","sendMessage","match","params","senderId","concat","registerMessageHandler","recentlyTalkedTo","includes","updateRecentlyTalkedTo","List","ListItem","ListItemText","primary","senderName","secondary","id","onKeyPress","withRouter","MessagingPage","client","exact","ele","addToRecentlyTalkedTo","maxWidth","palette","background","paper","inline","MainApp","drawerOpen","flexGrow","Drawer","anchor","onKeyDown","to","textDecoration","button","ListItemIcon","AppBar","Toolbar","edge","AuthenticatedRoute","children","rest","render","pathname","from","UnauthenticatedRoute","App","Container","Boolean","window","hostname","ReactDOM","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.657b5391.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport { Button } from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {blue, green, orange, yellow, pink, gray, red, cyan} from '@material-ui/core/colors';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: \"28%\",\r\n    zIndex: 401,\r\n    position: \"absolute\",\r\n    right: \"-100%\", // 3%,\r\n    transition: theme.transitions.create('right', {\r\n      duration: theme.transitions.duration.shortest\r\n    }),\r\n    top: \"55%\",\r\n    transform: \"translateY(-50%)\",\r\n    backgroundColor: \"white\",\r\n    boxShadow: \"0px 5px 5px rgba(0, 0, 0, 0.25)\",\r\n    borderRadius: \"20px\",\r\n    padding: \"10px\"\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: blue[600],\r\n    width: \"100px\",\r\n    height: \"100px\",\r\n  },\r\n  cardVisible: {\r\n    right: \"3%\"\r\n  }\r\n});\r\n\r\nclass PersonCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      visible: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"comp mount\")\r\n    this.setState({visible: true})\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <Card className={clsx(classes.root, {\r\n        [classes.cardVisible]: this.state.visible\r\n      })}>\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            </Avatar>\r\n          }\r\n          title={this.props.person.realName}\r\n          subheader={this.props.person.isFoodProvider ? \"Volunteer\" : \"Hero\"}\r\n        />\r\n        <CardContent>\r\n          <Typography variant=\"h5\" color=\"textSecondary\" component=\"h1\" style={{marginBottom: \"15px\"}}>\r\n            Location Details\r\n          </Typography>\r\n          <Typography variant=\"body1\" style={{lineHeight: \"30px\"}} >\r\n            {this.props.location.description}\r\n          </Typography> \r\n        </CardContent>\r\n        <CardActions disableSpacing>\r\n          <IconButton variant=\"contained\" color=\"primary\">\r\n            <ChatIcon />\r\n          </IconButton>\r\n        </CardActions>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(PersonCard);","import Cookies from 'universal-cookie';\r\n\r\nconst cookies = new Cookies();\r\n\r\nfunction sendReq(url, options, onAuth, onFail){\r\n    fetch(url, options)\r\n        .then(async res => {\r\n            var data = await res.json().catch(err => console.log(\"data: `\" + data + \"` err: \" + err));\r\n            console.log(data + \"\\n\" + res)\r\n            switch(res.status){\r\n                case 500: // Invalid/Auth failed\r\n                case 403:\r\n                case 401:\r\n                case 400:\r\n                    console.log(res.status);\r\n                    onFail(data.error.message || ((data.error.toString() == \"[object Object]\") ? JSON.stringify(data.error) : data.error));\r\n                    break;\r\n                case 201:\r\n                case 200:\r\n                    onAuth(data);\r\n                    break;\r\n                default:\r\n                    onFail(\"Something went wrong while contacting the server!\"); // Something went wrong\r\n                    break;\r\n            }\r\n        })\r\n}\r\n\r\nconst APIUtil = {\r\n    isAuthenticated: () => typeof(cookies.get('token')) != \"undefined\",\r\n    authenticate(data, cb) {\r\n        sendReq(\"/api/users/login\", {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        }, dataa => {\r\n            const onehrdate = () => {var n = new Date(); n.setTime(n.getTime + (60*60*1000)); return n};\r\n            cookies.set('token', dataa.token, { path: '/', expires: onehrdate()}); // Token will expire in 1 hour\r\n            this.userData = JSON.parse(atob(dataa.token.split(\".\")[1]));\r\n            cb(1);\r\n        }, error => {\r\n            cb(0, error);\r\n        });\r\n    },\r\n    registerUser(data, cb) {\r\n        sendReq(\"/api/users/register\", {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        }, dataa => {\r\n            cb(1);\r\n        }, error => {\r\n            cb(0, error);\r\n        });\r\n    },\r\n    logout(cb) {\r\n        cookies.remove('token');\r\n        cb();\r\n    },\r\n    getSelfInfo(cb){\r\n        sendReq(\"/api/users/me\", {\r\n            headers: {\"Authorization\": \"Bearer \" + cookies.get('token')}\r\n        }, data => {\r\n            cb(1, data);\r\n        }, error => {\r\n            cb(0, error);\r\n        })\r\n    },\r\n    getLocationsFromPosition(dataa, cb) {\r\n        // https://stackoverflow.com/questions/35038857/setting-query-string-using-fetch-get-request\r\n        sendReq(\"/api/locations/near?\" + new URLSearchParams(dataa).toString(), {\r\n            headers: {\"Authorization\": \"Bearer \" + cookies.get('token')}\r\n        }, data => {\r\n            cb(1, data);\r\n        }, error => {\r\n            cb(0, [{name: \"Couldn't find locations\"}]);\r\n            console.error(error)\r\n        });\r\n    },\r\n    getAllLocations(cb) {\r\n        // https://stackoverflow.com/questions/35038857/setting-query-string-using-fetch-get-request\r\n        sendReq(\"/api/locations/all\", {\r\n            headers: {\"Authorization\": \"Bearer \" + cookies.get('token')}\r\n        }, data => {\r\n            cb(1, data);\r\n        }, error => {\r\n            cb(0, [{name: \"Couldn't find locations\"}]);\r\n            console.error(error)\r\n        });\r\n    },\r\n    getUserInformation(userId, cb) {\r\n        sendReq(\"/api/users/\" + userId, {\r\n            headers: {\"Authorization\": \"Bearer \" + cookies.get('token')}\r\n        }, data => {\r\n            cb(1, data);\r\n        }, error => {\r\n            cb(0, [{name: \"Couldn't find user\"}]);\r\n            console.error(error)\r\n        });\r\n    }\r\n};\r\n\r\nexport default APIUtil;","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Map, Marker, Popup, TileLayer, CircleMarker, Circle } from 'react-leaflet';\r\nimport PersonCard from '../components/PersonCard';\r\nimport APIUtil from '../utils/apiutil';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { Slide } from '@material-ui/core';\r\n\r\nclass MapPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lat: 39.8283,\r\n            lng: -98.5795,\r\n            zoom: 5,\r\n            locations: [],\r\n            currentPerson: null,\r\n            currentLocation: null,\r\n            cardVisible: false\r\n        }\r\n    }\r\n\r\n    getLocationsFromPosition(location) {\r\n        /* APIUtil.getLocationsFromPosition({latitude: location[0], longitude: location[1]}, (code, data) => {\r\n            if(code){\r\n                this.setState({locations: data});\r\n            }\r\n        }) */\r\n        APIUtil.getAllLocations((code, data) => {\r\n            if(code){\r\n                this.setState({locations: data});\r\n            }\r\n        })\r\n    }\r\n\r\n    setCurrent(userId, location) {\r\n        APIUtil.getUserInformation(userId, (code, data) => {\r\n            if(code){\r\n                this.setState({currentPerson: data, currentLocation: location});\r\n                this.setState({cardVisible: true}); // yes, this should be in its own setstate\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillMount() {\r\n        if(navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(pos => {\r\n                this.setState({lat: pos.coords.latitude, lng: pos.coords.longitude, zoom: 10});\r\n                this.getLocationsFromPosition([this.state.lat, this.state.lng]);\r\n            });\r\n        } else {\r\n            this.getLocationsFromPosition([this.state.lat, this.state.lng]);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(\"hello this is render\");\r\n        const position = [this.state.lat, this.state.lng];\r\n        return (\r\n            <div style={{width: \"100%\", height: \"100%\"}} >\r\n                {this.state.currentPerson ? <PersonCard person={this.state.currentPerson} location={this.state.currentLocation} /> : <></>}\r\n                <Map center={position} zoom={this.state.zoom} style={{width: \"100%\", height: \"100%\"}} minZoom={4} onmouseup={event => {/* this.getLocationsFromPosition([event.latlng.lat, event.latlng.lng]); */ console.log(event.latlng)}}>\r\n                    <TileLayer\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                        attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\r\n                    />\r\n                    {this.state.locations ? (\r\n                        this.state.locations.map(location => (\r\n                            <Marker key={location.userId} position={[location.location.latitude, location.location.longitude]} icon={L.icon({iconUrl: \"/assets/pictures/marker.webp\", iconSize: [50, 50], iconAnchor: [25, 50]})} onclick={() => this.setCurrent(location.userId, location)}>\r\n                            </Marker>\r\n                        ))\r\n                    ) : (\r\n                        \"\"\r\n                    )}\r\n                </Map>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default MapPage;","import React from 'react';\r\nimport { Paper, Box, Button, TextField, Snackbar } from \"@material-ui/core\";\r\nimport { Alert } from '@material-ui/lab';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './Login.css';\r\nimport APIUtil from '../utils/apiutil';\r\n\r\nexport default function Login() {\r\n    let history = useHistory();\r\n\r\n    const [usernameValue, setUsernameValue] = React.useState(\"\");\r\n    const [passwordValue, setPasswordValue] = React.useState(\"\");\r\n    const [snackbarOpen, setSnackbarOpen] = React.useState(false);\r\n    const [errorMessage, setErrorMessage] = React.useState(\"\");\r\n    const [loginButtonText, setLoginButtonText] = React.useState(\"Log In\");\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway'){\r\n            return;\r\n        }\r\n        setSnackbarOpen(false);\r\n    };\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"error\">\r\n                    Error! {errorMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Paper className=\"square\" elevation={3} square>\r\n                <div className=\"content\">\r\n                    <Box display=\"flex\" style={{height: \"100%\"}} flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" className=\"box\">\r\n                        <h1>Login!</h1>\r\n                        <div className=\"buttonContainer\">\r\n                            <TextField placeholder=\"Username\" onChange={event => setUsernameValue(event.target.value)} />\r\n                            <TextField placeholder=\"Password\" type=\"password\" onChange={event => setPasswordValue(event.target.value)} />\r\n                            <br/>\r\n                            <Button variant=\"contained\" color=\"primary\" onClick={() => {\r\n                                setLoginButtonText(\"Logging in...\");\r\n                                APIUtil.authenticate({\r\n                                    username: usernameValue,\r\n                                    password: passwordValue\r\n                                }, (status, error=\"\") => {\r\n                                    if (status) {\r\n                                        history.push(\"/app\");\r\n                                    } else {\r\n                                        setLoginButtonText(\"Log In\");\r\n                                        setErrorMessage(error);\r\n                                        setSnackbarOpen(true);\r\n                                    }\r\n                                })\r\n                            }}>{loginButtonText}</Button>\r\n                            <Button color=\"secondary\" onClick={() => {\r\n                                history.push('/login')\r\n                            }}>Don't have an account?</Button>\r\n                        </div>\r\n                    </Box>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Paper, Box, Button, TextField, Form, Snackbar, Checkbox, FormControlLabel } from \"@material-ui/core\";\r\nimport { Alert } from '@material-ui/lab';\r\nimport { Link } from \"react-router-dom\";\r\nimport './Register.css';\r\nimport { useHistory } from 'react-router-dom';\r\nimport APIUtils from '../utils/apiutil';\r\n \r\nexport default function Register() {\r\n    let history = useHistory();\r\n\r\n    const [usernameValue, setUsernameValue] = React.useState(\"\");\r\n    const [realNameValue, setRealNameValue] = React.useState(\"\");\r\n    const [passwordValue, setPasswordValue] = React.useState(\"\");\r\n    const [emailValue, setEmailValue] = React.useState(\"\");\r\n    const [locationValue, setLocationValue] = React.useState(\"\");\r\n    const [snackbarOpen, setSnackbarOpen] = React.useState(false);\r\n    const [errorMessage, setErrorMessage] = React.useState(\"\");\r\n    const [isProviderBool, setIsProviderBool] = React.useState(false);\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway'){\r\n            return;\r\n        }\r\n        setSnackbarOpen(false);\r\n    };\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <Snackbar open={snackbarOpen} autoHideDuration={6000} onClose={handleClose}>\r\n                <Alert onClose={handleClose} severity=\"error\">\r\n                    Error! {errorMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Paper className=\"square\" elevation={3} square>\r\n                <div className=\"content\">\r\n                    <Box display=\"flex\" style={{height: \"100%\"}} flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" className=\"box\">\r\n                        <h1>Register!</h1>\r\n                        <div className=\"buttonContainer\">\r\n                            <TextField placeholder=\"Username\" onChange={event => setUsernameValue(event.target.value)} />\r\n                            <TextField placeholder=\"Real Name\" onChange={event => setRealNameValue(event.target.value)} />\r\n                            <TextField placeholder=\"Password\" type=\"password\" onChange={event => setPasswordValue(event.target.value)} />\r\n                            <TextField placeholder=\"Email\" onChange={event => setEmailValue(event.target.value)} />\r\n                            <FormControlLabel \r\n                                control={<Checkbox checked={isProviderBool} onChange={event => {setIsProviderBool(event.target.checked)}}/>}\r\n                                label=\"Will you provide food?\"\r\n                            />\r\n                            <Button variant=\"contained\" color=\"primary\" onClick={() => {\r\n                                APIUtils.registerUser({\r\n                                    username: usernameValue,\r\n                                    realName: realNameValue,\r\n                                    password: passwordValue,\r\n                                    email: emailValue,\r\n                                    isFoodProvider: isProviderBool\r\n                                }, (status, error=\"\") => {\r\n                                    if (status) {\r\n                                        history.push('/login');\r\n                                    } else {\r\n                                        setErrorMessage(error)\r\n                                        setSnackbarOpen(true);\r\n                                    }\r\n                                });\r\n                            }}>Register</Button>\r\n                            <Button color=\"secondary\" onClick={() => {\r\n                                history.push('/login')\r\n                            }}>Already have an account?</Button>\r\n                        </div>\r\n                    </Box>\r\n                </div>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import io from 'socket.io-client';\r\nimport Cookies from 'universal-cookie';\r\nimport APIUtil from '../utils/apiutil';\r\n\r\nconst cookies = new Cookies();\r\n\r\nexport default class Socket {\r\n    constructor() {\r\n        this.socket = io.connect();\r\n        this.socket.on('connect', () => {\r\n            this.socket.emit('authenticate', cookies.get('token'));\r\n            console.log(\"connect\")\r\n        });\r\n        this.socket.on('error', err => {\r\n            console.error(\"socket.io error: \" + err);\r\n        });\r\n    }\r\n    registerErrorHandlers({ onSendMessageError, onAuthError, onUnknownError }) {\r\n        this.socket.on('serverError', data => {\r\n            switch(data.cause) {\r\n                case 'auth': onAuthError(data.details); break;\r\n                case 'sentmsg': onSendMessageError(data.details); break;\r\n                default: onUnknownError(data.cause); break;\r\n            }\r\n        })\r\n    }\r\n    registerMessageHandler(callback) {\r\n        this.socket.on('message', data => {\r\n            console.log(data)\r\n            callback(data);\r\n        })\r\n    }\r\n    sendMessage(message, recipientId) {\r\n        console.log(\"sending msg\")\r\n        this.socket.emit('message', {\r\n            recipientId: recipientId, \r\n            message: message\r\n        });\r\n    }\r\n}","import React from \"react\";\r\nimport {\r\n\tList,\r\n\tTextField,\r\n\tIconButton,\r\n\tListItem,\r\n\tListItemIcon,\r\n\tListItemText,\r\n} from \"@material-ui/core\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass Chat extends React.Component {\r\n\tconstructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userInput: \"\",\r\n            chatHistory: []\r\n        };\r\n        this.handleKey = this.handleKey.bind(this);\r\n        this.onReceiveMessage = this.onReceiveMessage.bind(this);\r\n\t}\r\n\r\n    handleKey(event) {\r\n        if(event.key == \"Enter\") {\r\n            console.log(this.state.userInput);\r\n            if(this.state.userInput){\r\n                this.props.sendMessage(this.state.userInput, this.props.match.params.senderId);\r\n            }\r\n        }\r\n    }\r\n\r\n    onReceiveMessage(message) {\r\n        this.setState({chatHistory: this.state.chatHistory.concat([message])})\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.props.registerMessageHandler(this.onReceiveMessage);\r\n        if(this.props.recentlyTalkedTo.includes(this.props.match.params.senderId)) {\r\n            this.props.updateRecentlyTalkedTo(this.props.match.params.senderId);\r\n            console.log(this.props);\r\n        }\r\n    }\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"chatContainer\">\r\n\t\t\t\t<List>\r\n                    {this.state.chatHistory.map(message => (\r\n                        <ListItem>\r\n                            <ListItemText primary={message.senderName} secondary={message.message} />\r\n                        </ListItem>\r\n                    ))}\r\n\t\t\t\t</List>\r\n                <TextField id=\"messageInput\" label=\"Enter a message\" placeholder=\"Message:\" onKeyPress={this.handleKey} value={this.state.userInput} onChange={event => this.setState({userInput: event.target.value})}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(Chat);\r\n","import React from \"react\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Socket from \"../utils/socket\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport { Switch, Route } from \"react-router\";\r\nimport Chat from \"../components/Chat\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport APIUtil from \"../utils/apiutil\";\r\n\r\nconst styles = (theme) => ({\r\n\troot: {\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t\tmaxWidth: \"36ch\",\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tinline: {\r\n\t\tdisplay: \"inline\",\r\n\t},\r\n});\r\n\r\nclass MessagingPage extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.client = new Socket();\r\n\t\tthis.state = {\r\n\t\t\trecentlyTalkedTo: [\"Jeff\", \"Bob\", \"Kyle\"],\r\n\t\t};\r\n\t\tthis.registerMessageHandler = this.registerMessageHandler.bind(this);\r\n\t\tthis.sendMessage = this.sendMessage.bind(this);\r\n\t}\r\n\r\n\tregisterMessageHandler(callback) {\r\n\t\tthis.client.registerMessageHandler(callback);\r\n\t}\r\n\r\n\tsendMessage(message, recipientId) {\r\n\t\tthis.client.sendMessage(message, recipientId);\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\t/* APIUtil.getSelfInfo((code, data) => {\r\n        if(code) {\r\n          this.setState({recentlyTalkedTo: data.recentlyTalkedTo});\r\n          console.log(this.state.recentlyTalkedTo);\r\n        }\r\n      }); */\r\n\t}\r\n\r\n\taddToRecentlyTalkedTo(userId) {\r\n\t\tthis.setState({\r\n\t\t\trecentlyTalkedTo: this.state.recentlyTalkedTo.concat([userId]),\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path={this.props.match.path}>\r\n\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{this.state.recentlyTalkedTo.map((ele) => {\r\n\t\t\t\t\t\t\treturn (<p>{ele}</p>);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={`${this.props.match.path}/:senderId`}>\r\n\t\t\t\t\t<Chat\r\n\t\t\t\t\t\tsendMessage={this.sendMessage}\r\n\t\t\t\t\t\tregisterMessageHandler={this.registerMessageHandler}\r\n\t\t\t\t\t\trecentlyTalkedTo={this.state.recentlyTalkedTo}\r\n\t\t\t\t\t\tupdateRecentlyTalkedTo={this.addToRecentlyTalkedTo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(withStyles(styles)(MessagingPage));\r\n","import React from 'react';\r\nimport APIUtil from './utils/apiutil';\r\nimport MapIcon from '@material-ui/icons/Map'; \r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport {\r\n    Drawer,\r\n    List,\r\n    ListItem,\r\n    ListItemText,\r\n    ListItemIcon,\r\n    AppBar,\r\n    Toolbar,\r\n    IconButton,\r\n    Typography,\r\n    Button\r\n} from \"@material-ui/core\";\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { Switch, Route } from 'react-router';\r\nimport MapPage from './pages/MapPage';\r\nimport MessagingPage from './pages/MessagingPage';\r\n\r\nclass MainApp extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drawerOpen: false\r\n        };\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{flexGrow: 1, width: \"100%\", height: \"100%\"}}>\r\n                <Drawer\r\n                    anchor=\"left\"\r\n                    open={this.state.drawerOpen}\r\n                    onClose={() => {this.setState({drawerOpen: false})}}\r\n                >\r\n                    <div\r\n                        style={{width: 300}}\r\n                        onClick={() => {this.setState({drawerOpen: false})}}\r\n                        onKeyDown={() => {this.setState({drawerOpen: false})}}\r\n                    >\r\n                        <List>\r\n                            <Link to={`${this.props.match.url}`} style={{textDecoration: \"none\", color: \"black\"}}>\r\n                                <ListItem button key=\"Map\">\r\n                                    <ListItemIcon><MapIcon /></ListItemIcon>\r\n                                    <ListItemText primary=\"Map\" />\r\n                                </ListItem>\r\n                            </Link>\r\n                            <Link to={`${this.props.match.url}/chat`} style={{textDecoration: \"none\", color: \"black\"}}>\r\n                                <ListItem button key=\"Messaging\">\r\n                                    <ListItemIcon><ChatIcon /></ListItemIcon>\r\n                                    <ListItemText primary=\"Messaging\" />\r\n                                </ListItem>\r\n                            </Link>\r\n                        </List>\r\n                    </div>\r\n                </Drawer>\r\n                <AppBar position=\"sticky\" style={{zIndex: 402}}>\r\n                    <Toolbar>\r\n                        <IconButton\r\n                            edge=\"start\"\r\n                            color=\"inherit\"\r\n                            aria-label=\"menu\"\r\n                            onClick={() => {this.setState({drawerOpen: true})}}>\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\r\n                            FoodSeek\r\n                        </Typography>\r\n                        <Button onClick={() => {\r\n                            APIUtil.logout(() => {\r\n                                this.props.history.push(\"/\");\r\n                            });\r\n                        }} color=\"inherit\">Logout</Button>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <Switch>\r\n                    <Route exact path={this.props.match.path}>\r\n                        <MapPage />\r\n                    </Route>\r\n                    <Route path={`${this.props.match.path}/chat`}>\r\n                        <MessagingPage />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(MainApp);","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\n\r\nimport './HomePage.css';\r\n\r\nclass HomePage extends React.Component {\r\n    constructor (props) {\r\n        super(props)\r\n    }\r\n\r\n    preloadImage(url) {\r\n        var img = new Image();\r\n        img.src = url;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <section className=\"topPage\">\r\n                    <video autoPlay muted loop z-index=\"10\" className=\"BackgroundVid\" height={\"100%\"} width={\"100%\"}>\r\n                        <source src=\"/assets/videos/homebackground.mp4\" type=\"video/mp4\"/> \r\n                    </video>\r\n                        <img src=\"/assets/overlay.png\" z-index=\"11\" className=\"Overlay\" style={{height: \"109%\", width: \"100%\"}}/>\r\n                        <div id=\"headerContainer\">\r\n                            <h1 className=\"header1\">We know life can be hard.</h1>\r\n                            <h1 className=\"header2\">WE'RE HERE FOR YOU.</h1>\r\n                        </div>\r\n                </section>\r\n                \r\n                <section className=\"Intro\">\r\n                    <div style={{zIndex: 15}}>\r\n                        <img src=\"/assets/pictures/Firstimage.png\" style={{width:\"100%\"}, {position:\"static\"}} className=\"1stImg\" />\r\n                        <h2 z-index=\"16\">Food is one of the most essential needs</h2>\r\n                        <h3 >it's like water or air</h3>\r\n                        <h5>But still, millions of people do not have reliable access to food</h5>\r\n                    </div>\r\n                </section>\r\n\r\n                <section className=\"Unemployment\">\r\n                    <div className=\"unemployment\">\r\n                        <div className=\"image\">\r\n                            <img src=\"/assets/pictures/secondImg.png\" />\r\n                        </div>\r\n                        <div className=\"text\">\r\n                            <h5>Highest unemployment rate since the great depression</h5>\r\n                            <h3>14.7% unemployment rate</h3>\r\n                            <h1>20 million Americans unemployed</h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <section className=\"FoodInsecurity\">\r\n                    <div className=\"AdultInsecurity\">\r\n                        <img src=\"/assets/pictures/thirdImg.png\" style={{width:\"100%\"}}/>\r\n                        <div className=\"foodInsecurity\">\r\n                            <h3>11% of the US population does not have reliable access to food</h3>\r\n                            <h2>37 million people are food insecure</h2>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"children\">\r\n                        <img src=\"/assets/pictures/fourthImg.png\" style={{width:\"100%\"}}/>\r\n                        <h1>11 million children are food insecure</h1>\r\n                        <h3>Children are the most likely age group to face food insecurity</h3>\r\n                    </div>\r\n\r\n                </section>\r\n                <section className=\"CallToAction\">\r\n                    <h1 className=\"But\">but...</h1>\r\n                    <div className=\"Relief\">\r\n                        <img src=\"/assets/pictures/fifthImg.png\" />\r\n                        <h1 className=\"You\">YOU</h1>\r\n                        <h2 className=\"reliefText\">can be their relief.</h2>\r\n                        <h3 className=\"coffee\">And it costs less than a cup of coffee</h3>\r\n                    </div>\r\n                    <div className=\"Fight\">\r\n                    <h1 className=\"JoinFight\">Heroes Need Your Help</h1>\r\n                    <div className=\"btn\">\r\n                    <Button className=\"signUpBtn\"><h1 className=\"signUpText\">Sign Up Now</h1></Button> \r\n                    </div>\r\n\r\n                    </div>\r\n                </section>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\nimport logo from './logo.svg';\nimport MapPage from './pages/MapPage';\nimport PersonCard from './components/PersonCard';\nimport APIUtil from \"./utils/apiutil\";\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { Container } from '@material-ui/core'\nimport MainApp from './MainApp';\nimport HomePage from './pages/HomePage';\nimport './App.css';\n\nfunction AuthenticatedRoute({children, ...rest}) {\n  return (\n    <Route\n      {...rest}\n      render={\n        ({location}) => APIUtil.isAuthenticated() ? children : (\n          <Redirect to={{pathname: \"/login\", state: {from: location}}} />\n        )\n      }\n    />\n  )\n}\n\nfunction UnauthenticatedRoute({children, ...rest}) {\n  return (\n    <Route\n      {...rest}\n      render={\n        ({location}) => !APIUtil.isAuthenticated() ? children : (\n          <Redirect to={{pathname: \"/app\", state: {from: location}}} />\n        )\n      }\n    />\n  )\n}\n\nfunction App() {\n  return (\n    <Switch>\n      <UnauthenticatedRoute exact path=\"/\">\n        <Redirect to=\"/login\" />\n      </UnauthenticatedRoute>\n      <UnauthenticatedRoute exact path=\"/login\">\n        <Container maxWidth=\"sm\" style={{height: \"100vh\"}} >\n          <Login />\n        </Container>\n      </UnauthenticatedRoute>\n      <UnauthenticatedRoute exact path=\"/register\">\n        <Container maxWidth=\"sm\" style={{height: \"100vh\"}} >\n          <Register />\n        </Container>\n      </UnauthenticatedRoute>\n      <AuthenticatedRoute path=\"/app\">\n        <MainApp />\n      </AuthenticatedRoute>\n    </Switch>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}